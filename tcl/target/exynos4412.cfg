#
# Samsung Exynos 4412 - quad-core ARM Cortex-A9
#
source [find mem_helper.tcl]
###############################################################
##                     Exynos 4412 Registers                 ##
###############################################################

if { [info exists CHIPNAME] } {
	set _CHIPNAME $CHIPNAME
} else {
	set _CHIPNAME exynos4412
}

if { [info exists CPUTAPID] } {
	set _CPUTAPID $CPUTAPID
} else {
	set _CPUTAPID 0x4ba00477
}

jtag newtap $_CHIPNAME cpu -irlen 4 -expected-id $_CPUTAPID

set _TARGETNAME $_CHIPNAME.cpu
target create ${_TARGETNAME}0 cortex_a -chain-position $_TARGETNAME -dbgbase 0x10890000
target create ${_TARGETNAME}1 cortex_a -chain-position $_TARGETNAME -dbgbase 0x10892000
target create ${_TARGETNAME}2 cortex_a -chain-position $_TARGETNAME -dbgbase 0x10894000
target create ${_TARGETNAME}3 cortex_a -chain-position $_TARGETNAME -dbgbase 0x10896000

target smp ${_TARGETNAME}0 ${_TARGETNAME}1 ${_TARGETNAME}2 ${_TARGETNAME}3

# iRAM: 256K at 0x0202.0000
${_TARGETNAME}0 configure -work-area-phys 0x02020000 -work-area-size 0x40000

proc exynos4_dbginit (target) {
	cortex_a dbginit
}

${_TARGETNAME}0 configure -event reset-assert-post "exynos4_dbginit $_TARGETNAME"
