#
# ADAFRUIT FTDI FT232H as a SWD direct connect interface
#
# http://www.ftdichip.com/Products/ICs/FT232H.htm
#
#

interface ftdi

ftdi_vid_pid 0x0403 0x6014

ftdi_layout_signal SWD_EN -data 0

# data MSB..LSB       direction (1:out) MSB..LSB
# 0000'0000'0011'1100 0000'0011'0001'1011
ftdi_layout_init 0x031a 0x031b
# 0xfff8 0xfffb
#ftdi_layout_signal nTRST -data 0x0100 -oe 0x0100
#ftdi_layout_signal nSRST -data 0x0200

# re-configure TDO as tri-state
ftdi_layout_signal TDO -data 0x0002 -oe 0x0002
ftdi_layout_signal TDI -data 0x0004

# Adafruit      FT232H    JTAG       SWD
# Name  Pin     Name      Func       Func
#  D0   J1-3    ADBUS0    TCK        SWDCLK
#  D1   J1-4    ADBUS1    TDO/DI     SWDIO
#  D2   J1-5    ADBUS2    TDI/DO     SWDIO
#  D3   J1-6    ADBUS3    TMS        N/A
#  D4   J1-7    ADBUS4    (GPIOL0)
#  D5   J1-8    ADBUS5    (GPIOL1)
#  D6   J1-9    ADBUS6    (GPIOL2)
#  D7   J1-10   ADBUS7    (GPIOL3)
#  C0   J2-1    ACBUS0    /TRST      not used
#  C1   J2-2    ACBUS1    /SRST      module reset
#  C2   J2-3    ACBUS2    (GPIOH2)
#  C3   J2-4    ACBUS3    (GPIOH3)
#  C4   J2-5    ACBUS4    (GPIOH4)
#  C5   J2-6    ACBUS5    (GPIOH5)
#  C6   J2-7    ACBUS6    (GPIOH6)
#  C7   J2-8    ACBUS7    (GPIOH7)
#  C8   J2-9    ACBUS8
#  C9   J2-10   ACBUS9
